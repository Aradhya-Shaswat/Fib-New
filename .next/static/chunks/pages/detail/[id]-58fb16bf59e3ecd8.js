(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[903],{6349:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/detail/[id]",function(){return l(9587)}])},9609:function(e,t,l){"use strict";var s=l(5893);l(7294);var r=l(7516),i=l(5434);t.Z=e=>{let{text:t}=e;return(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center h-full w-full",children:[(0,s.jsx)("p",{className:"text-8xl",children:"No Comments Yet!"===t?(0,s.jsx)(r.dW4,{}):(0,s.jsx)(i.o16,{})}),(0,s.jsx)("p",{className:"text-2xl text-center",children:t})]})}},9587:function(e,t,l){"use strict";l.r(t),l.d(t,{__N_SSP:function(){return b},default:function(){return w}});var s=l(5893),r=l(7294),i=l(1163),a=l(6653),n=l(5675),c=l.n(n),d=l(1664),o=l.n(d),x=l(5434),m=l(3750),u=l(3854),p=l(6249),h=l(9609),f=e=>{let{comment:t,setComment:l,addComment:r,comments:i,isPostingComment:n}=e,{allUsers:d,userProfile:x}=(0,p.Z)();return(0,s.jsxs)("div",{className:"border-t-2 border-gray-200 pt-4 px-10 mt-4 bg-[#F8F8F8] border-b-2 lg:pb-0 pb-[100px]",children:[(0,s.jsx)("div",{className:"overflow-scroll lg:h-[457px]",children:(null==i?void 0:i.length)>0?null==i?void 0:i.map((e,t)=>(0,s.jsx)(s.Fragment,{children:null==d?void 0:d.map(l=>l._id===(e.postedBy._ref||e.postedBy._id)&&(0,s.jsxs)("div",{className:" p-2 items-center",children:[(0,s.jsx)(o(),{href:"/profile/".concat(l._id),children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12",children:(0,s.jsx)(c(),{width:48,height:48,className:"rounded-full cursor-pointer",src:l.image,alt:"user-profile",layout:"responsive"})}),(0,s.jsxs)("p",{className:"flex cursor-pointer gap-1 items-center text-[18px] font-bold leading-6 text-primary",children:[l.userName," ",(0,s.jsx)(a.Dzu,{className:"text-blue-400"})]})]})}),(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"-mt-5 ml-16 text-[16px] mr-8",children:e.comment})})]},t))})):(0,s.jsx)(h.Z,{text:"No Comments Yet! Be First to do add the comment."})}),x&&(0,s.jsx)("div",{className:"absolute bottom-0 left-0  pb-6 px-2 md:px-10 ",children:(0,s.jsxs)("form",{onSubmit:r,className:"flex gap-4",children:[(0,s.jsx)("input",{value:t,onChange:e=>l(e.target.value),className:"bg-primary px-6 py-4 text-md font-medium border-2 w-[250px] md:w-[700px] lg:w-[350px] border-gray-100 focus:outline-none focus:border-2 focus:border-gray-300 flex-1 rounded-lg",placeholder:"Add comment.."}),(0,s.jsx)("button",{className:"text-md text-gray-400 ",onClick:r,children:n?"Commenting...":"Comment"})]})})]})},j=l(3339),g=e=>{let{likes:t,flex:l,handleLike:i,handleDislike:a}=e,[n,c]=(0,r.useState)(!1),{userProfile:d}=(0,p.Z)(),o=null==t?void 0:t.filter(e=>e._ref===(null==d?void 0:d._id));return(0,r.useEffect)(()=>{(null==o?void 0:o.length)>0?c(!0):c(!1)},[o,t]),(0,s.jsx)("div",{className:"".concat(l," gap-6"),children:(0,s.jsxs)("div",{className:"mt-4 flex flex-col justify-center items-center cursor-pointer",children:[n?(0,s.jsx)("div",{className:"bg-primary rounded-full p-2 md:p-4 text-[#F51997] ",onClick:a,children:(0,s.jsx)(x.Yqy,{className:"text-lg md:text-2xl"})}):(0,s.jsx)("div",{className:"bg-primary rounded-full p-2 md:p-4 ",onClick:i,children:(0,s.jsx)(x.Yqy,{className:"text-lg md:text-2xl"})}),(0,s.jsx)("p",{className:"text-md font-semibold ",children:(null==t?void 0:t.length)||0})]})})},v=l(9669),N=l.n(v),b=!0,w=e=>{var t;let{postDetails:l}=e,[n,d]=(0,r.useState)(l),[h,v]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[y,_]=(0,r.useState)(!1),[k,C]=(0,r.useState)(""),S=(0,r.useRef)(null),F=(0,i.useRouter)(),{userProfile:B}=(0,p.Z)(),E=()=>{var e,t;h?(null==S||null===(e=S.current)||void 0===e||e.pause(),v(!1)):(null==S||null===(t=S.current)||void 0===t||t.play(),v(!0))};(0,r.useEffect)(()=>{n&&(null==S?void 0:S.current)&&(S.current.muted=b)},[n,b]);let z=async e=>{if(B){let t=await N().put("".concat(j._,"/api/like"),{userId:B._id,postId:n._id,like:e});d({...n,likes:t.data.likes})}},Z=async e=>{if(e.preventDefault(),B&&k){_(!0);let e=await N().put("".concat(j._,"/api/post/").concat(n._id),{userId:B._id,comment:k});d({...n,comments:e.data.comments}),C(""),_(!1)}};return(0,s.jsx)(s.Fragment,{children:n&&(0,s.jsxs)("div",{className:"flex w-full absolute left-0 top-0 bg-white flex-wrap lg:flex-nowrap",children:[(0,s.jsxs)("div",{className:"relative flex-2 w-[1000px] lg:w-9/12 flex justify-center items-center bg-blurred-img bg-no-repeat bg-cover bg-center",children:[(0,s.jsx)("div",{className:"opacity-90 absolute top-6 left-2 lg:left-6 flex gap-6 z-50",children:(0,s.jsx)("p",{className:"cursor-pointer ",onClick:()=>F.back(),children:(0,s.jsx)(x.xg7,{className:"text-white text-[35px] hover:opacity-90"})})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"lg:h-[100vh] h-[60vh]",children:(0,s.jsx)("video",{ref:S,onClick:E,loop:!0,src:null==n?void 0:null===(t=n.video)||void 0===t?void 0:t.asset.url,className:" h-full cursor-pointer"})}),(0,s.jsx)("div",{className:"absolute top-[45%] left-[40%]  cursor-pointer",children:!h&&(0,s.jsx)("button",{onClick:E,children:(0,s.jsx)(m.mz0,{className:"text-white text-6xl lg:text-8xl"})})})]}),(0,s.jsx)("div",{className:"absolute bottom-5 lg:bottom-10 right-5 lg:right-10  cursor-pointer",children:b?(0,s.jsx)("button",{onClick:()=>w(!1),children:(0,s.jsx)(u.CFz,{className:"text-white text-3xl lg:text-4xl"})}):(0,s.jsx)("button",{onClick:()=>w(!0),children:(0,s.jsx)(u.w$N,{className:"text-white text-3xl lg:text-4xl"})})})]}),(0,s.jsx)("div",{className:"relative w-[1000px] md:w-[900px] lg:w-[700px]",children:(0,s.jsxs)("div",{className:"lg:mt-20 mt-10",children:[(0,s.jsx)(o(),{href:"/profile/".concat(n.postedBy._id),children:(0,s.jsxs)("div",{className:"flex gap-4 mb-4 bg-white w-full pl-10 cursor-pointer",children:[(0,s.jsx)(c(),{width:60,height:60,alt:"user-profile",className:"rounded-full",src:n.postedBy.image}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-xl font-bold lowercase tracking-wider flex gap-2 items-center justify-center",children:[n.postedBy.userName.replace(/\s+/g,"")," ",(0,s.jsx)(a.Dzu,{className:"text-blue-400 text-xl"})]}),(0,s.jsxs)("p",{className:"text-md",children:[" ",n.postedBy.userName]})]})]})}),(0,s.jsx)("div",{className:"px-10",children:(0,s.jsx)("p",{className:" text-md text-gray-600",children:n.caption})}),(0,s.jsx)("div",{className:"mt-10 px-10",children:B&&(0,s.jsx)(g,{likes:n.likes,flex:"flex",handleLike:()=>z(!0),handleDislike:()=>z(!1)})}),(0,s.jsx)(f,{comment:k,setComment:C,addComment:Z,comments:n.comments,isPostingComment:y})]})})]})})}}},function(e){e.O(0,[228,556,774,888,179],function(){return e(e.s=6349)}),_N_E=e.O()}]);